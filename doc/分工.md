# SOC课程设计分工

> 我和丁子昊一开始就说了, 这个团队里不能有打酱油的, 欢迎主动退出.
> 希望各位是抱着能够在国庆结束之前做完的决心来参加. 
> 我这两周笔试面试可能花些时间, 除此之外, 我会尽可能花时间与大家讨论解决方案.
> 除了保研成功的同学, 剩下的大家也都要忙碌考研与秋招, 甚至春招. 我们能够聚在一起, 
> 总是一种缘分吧. 既然如此, 我希望我们能够在最短的时间内将这个SOC系统设计完成, 
> 希望我们能在这最后一个组队的课程设计项目中, 将自己大学四年学到的知识进行发挥.

> 我在计算机楼有一个单独的房间, 里面有空调,有插座, 有座椅板凳, 我们正式开始之后, 
> 我希望大家能够一起讨论问题, 有不合适的分工, 我们立刻进行修改. 因为靠近师兄他们的实验室, 
> 有了问题也可以方便的去问, 我也可能拉他们过去帮忙.
> 觉得我做的不好, 或是感到分配的任务做不完, 不用顾及我的面子, 直接讲出来. 
> 每人每天将自己所做的工作, 使用文件记录一下, 在服务器上单独建一个文件夹存放, 
> 防止最后临时抱佛脚


> 不知道大家有多少人需要做短学期小实验, 请尽快学习verilog语言, 
> 硬件设计你们将是主力, 这个部分每个人都要学会调试波形文件, 
> vivado编译起来特别慢, 大概要10分钟以上, CPU最好的一台电脑负责编译.


## 硬件设计部分

  之前我已经使用vivado写好了32条指令的单周期CPU, 也已经运行过了coe文件, 大家觉得能复用多少就复用多少, 现在已经跑不起来了. 改一改或许可以用, 可能要改很多, 推倒重写也可以

###CPU
  
  57条指令, RISC, 32位流水

  57条指令实现起来并不困难, 主要是控制器的问题, 一个人半天看懂了控制器的运行方式,一两天补充30条指令十分轻松

###存储器

  vivado中有现成的存储器, 当Ram或是Rom来用都可以. 
  硬件的同学顺便做了就可以流水的设计, 让我觉得十分为难, 因为之前我所做的为单周期CPU, 连多周期的都不是, 希望这里, 做过多周期同学可以的话付出一下, 如果你不想做, 可以教我, 我来做也可以

###接口设计部件 
  2个16位定时/计数器、4×4键盘控制器、8位7段数码管控制器、16位LED输出、16位拨码开关输入、PWM控制、看门狗控制器的设计。
  
* 加分: 实现中断, 以及异常

* 更高要求: 3级存储, 读卡器的使用

* 多核, 直接放弃

目前打算做的就是中断, 以及SD卡的使用, 


## 软件设计部分

### 编译器

 因为Lex和Yacc大家应该知道怎么用, 所以, 我们的重点将放在Yacc生成的语法树到中间代码的生成.
最后,如果谁有时间或是想要为我们组加分, 很欢迎用自己写的语法词法分析程序, 至少国庆前的版本是
不打算使用的

[minic1](https://github.com/wan2land/mini-c)
[minic2](https://github.com/rabishah/Mini-C-Compiler-using-Flex-And-Yacc)

[语法分析到中间代码生成](http://www.cnblogs.com/LittleHann/p/4754446.html)

堆栈活动以及寄存器分配全部放在编译器这边来做, 直接生成mips汇编代码, 一个人


### 汇编器

  我打算直接规定好编译器汇编器两者的接口, 汇编器将mips的指令进行逐一替换
汇编器仅仅做为严格替换, 将字符串转换为二进制代码, 这样, 我们可以在一两天之内将汇编器做完

### 简单BIOS

  基本IO功能, 运算单元之后, 进行地址判断, 如果地址为IO设备, 那么就操纵IO设备. BIOS中涉及
数码管的输出以及键盘的输入

### IDE 

  [WebIDE](http://cpp.sh/)
  简单前端页面, 会前端的一晚上就足够了, 使用已经成熟的`CodeMirror`或者是`Ace`, 再添加两个
按钮以及完成后提供下载链接就可以, 这个最后随便找人来做

### 简单应用程序

 目前没有想好, 我倾向于做纯命令行或是游戏一类, 不过能用那个小板子做游戏好困难, 
如果不行的话, 我们只能分一个人写屏幕VGA驱动程序, 另一个人来写游戏.

## 工程协作



## 分工

* CPU+存储器 
  2人
* 接口部件设计
  1人
* 编译器
  1人
* IDA 汇编器
  1人
* BIOS
  1人
* 应用程序
  1人

  贪吃蛇, flappy bird, 数独, 俄罗斯方块, 2048

## 终

  能做完的, 我相信